---
title: 数据链路层
tags:
  - 网络
url: 96.html
id: 96
categories:
  - 学习
  - 计算机网络
  - 数据链路层
date: 2018-04-05 21:06:21
---

\[success\]

今天过生，把最难得数据链路层整理下：
------------------

#### 计算机网络学不好，说真的，确实是数据链路层没搞懂，以前忽视了，现在整理下：

#### 数据链路层

组帧方法

  字符计数法

    用个计数字段来表明帧内字符数

  字符填充首尾定界法

    用开始（DLE STX)和结束（DLE ETX)来控制首尾定界

    他的透明传输表现

        如果数据部分出现DLE ，发方则在数据部分在加个DLE， 以区别首尾定界，收方收到两个DLE,DLE则删除一个

  常用组帧方法

    比特填充法

        首尾用01111110来标志一帧的开始与结束

        他的透明传输表现

                如果数据部分出现五个连续1，发方则在五个1后面插入一个0；接收方相反

    违规编码法

        在物理层编码时，曼切斯特编码用了高低电平表示0,1. 违规编码则是用高高，低低电平表示起始，因为在物理层完成定界，所以不需要要任何技术就能实现透明传输

差错控制

  ARQ（自动重传请求）

  FEC（前向纠错）

    检错编码

        奇偶校检码

                垂直奇偶校检

                水平奇偶校检

                水平垂直奇偶校检

        CRC（循环冗余码）

    纠错编码

        海明码

                M个信息位插入R个校检位组成m+r位码字 ，必须满足关系2^r>=m+r+1;

流控与可靠传输

  滑动窗口流控

    发送窗口=1，接受窗口=1

        停等流控

                发方每发送一个帧，必须收到应答才发送下一个帧

    发送窗口>1，接受窗口=1

        回退N流控

                1<=发送窗口<=2^n-1

    发送窗口>1，接受窗口>1

        选择重传流控

                接收窗口+发送窗口<=2^n，接收窗口必须小于序列号范围的一半，接收窗口<=2^(n-1)，否则无意义。

介质访问控制（MAC）

  信道划分介质访问控制

    频分多路复用（FDM)

        将多路基带信号调制到不同频率载波，在进行叠加形成一个符合信号

    时分多路复用(TDM)

        将一条物理信道按时间分成若干时间片，理论刘分配给多个信号使用

        升级版：统计(异步)时分多路复用（STDM)

                区别：将固定分配时隙改进成按需动态分配时隙

    波分多路复用（WDM）

        就是光的频分多路复用：光纤中传输不同波长（频率）的光，通过频率不同分解合成

    码分多路复用（cdm)

        原理:靠不同编码来区分各路原始信号（共享频率，共享时间）

        复用方式

                码分多址（cdma）

                优点：利用率高，保密强，语音通信好，成本低

                应用：无线通信，特别是移动通信

  随机访问介质访问控制

    ALOHA协议

        纯ALOHA

                当网络任一站点需要发送数据，不检测就发，如果没收到确认，就等一段时间在发

        升级版：时隙ALOHA

                区别：把网络时间同步，将时间分成等段的时隙，规定只能在时隙开始时才能发送

    csma协议

        1-坚持协议（100%发送）

                侦听-空闲就发 侦听-忙则等待，并继续侦听到空闲为止 冲突-随机等待一段时间-重新侦听

        0-坚持（非坚持）协议

                侦听-空闲就发 侦听-忙则放弃侦听，等待随机一段时间

        p-坚持协议

                侦听-空闲就以p的概率发 以1-p的概率推迟到下个时隙 侦听-忙则等待下个时隙侦听 冲突-随机等待一段时间-重新侦听

    CDMA/CD协议

        工作流程

                先听后发，边听边发，冲突停发，随机重发

        检测冲突

                以太网端到端往返时间2t叫做争用期（冲突窗口或碰撞期）

                最小帧长=总线传播时延（t)*数据传输率（C）*2

        冲突后处理

                二进制退避法

                随着冲突重传次数增大而增大

        使用范围

                用于总线型网络或半双工网络

    CDMA/ca协议

        应用：局域网和无线局域网

        区别：将cd（碰撞检测）改成ca（碰撞避免）

  轮询访问介质访问控制

    令牌传递协议

        持令发，没持不准发

局域网LAN

  以太网(ieee802.3)

    逻辑：总线 物理：星形

    以太网MAC地址

        使用6字节（48比特）地址

    高速以太网

        100dase-t以太网

        吉比特以太网

        10吉比特以太网

    无线局域网（ieee802.11）

        有基础设施

                最小单位：基本服务集(BSS)

                bss中基站也叫接入点（ap）

        无基础设施（ad hoc）

  令牌环网（IEEE802.5）

    逻辑：环形 物理：星形

  fddi（IEEE802.8）

    逻辑：环形 物理：双环

广域网

  面向字节

    ppp协议（点到点）

        组成

                链路控制协议（lcp）

                网络控制协议（ncp）

                将ip数据报封装在链路的方法

        透明传输方法

                ppp在异步线路（默认）

                使用字节填充法

                ppp在sonet/sdh同步线路

                使用比特填充法（HDLC一样）

  面向比特

    hdlc协议

        分类

                非平衡配置

                平衡配置

        站的类型

                主站

                从站

                复合站

        操作方式

                正常响应方式

                主站向从站传输数据，从站要得到主站许可，才可以做事（响应）

                异步平衡方式

                每个复合站都可以向另一个站传输数据

                异步响应方式

                从站没接受主站许可就可以传输

        帧结构

                信息帧（i）第一位为0

                监控帧（S) 第一二位为1,0

                无编号帧（u）第一二位为1,1

设备

  网桥

    网段概念

        通过网桥连接起来的以太网，每个以太网就叫网段

    工作层次

        链路层的mac子层

    路径选择算法

        透明网桥

                转发表建立方式

                自学习算法：从某端口进来，一定能从相反端口出去

                工作方式

                源端口与目的端口一样，丢弃 源端口与目的端口不同，转发 目的端口未知，扩散

        源路由网桥

                工作方式

                1.广播发送一个发现帧去探索。 2.每个目的站应答，然后发送应答帧 3.应答帧原路径返回，途径网桥把自己标志记录在应答帧中 4.源站确定最佳路由（路线/转发表），以后凡是从这个源发往该目的都要携带理由信息。

  局域网交换机（多端口网桥）

    交换模式

        直通交换

        存储转发交换

    最大优点

        用户独占带宽

        加入vlan

                可以隔离冲突域，广播域

    原理

        检测源目的mac地址，查找表，若没有在表中，则加入表，然后再转发

功能

  为网络层提供服务

    无确认无连接

        以太网

    有确认无连接

        无线网

    有确认面向连接

        通信要求（可靠性，实时性）较高的场合

  链路管理

  组帧

    帧定界

        确定帧的边界（界限）

    帧同步

        接收方能从比特流中分出帧的起止

    透明传输

        防止出现数据部分出现与帧定界一样的组合

  流控

    控制收发的速率，以及缓存空间（窗口）大小

  差错控制

    位错

        ARQ（自动重传请求）

        CRC（循环冗余校检）

    帧错

        定时器

        编号机制

![](https://blog.mviai.com/images/wp-content/uploads/2018/04/数据链路层.png) [**如何下载使用思维导图（点我）**](https://blog.mviai.com/images/archives/172) 思维导图下载  链接：https://pan.yangxin.com/s/1J1fkVM3qZEmjMmIydz9lmw \[/success\] \[reply\]密码：sml6 \[/reply\]
